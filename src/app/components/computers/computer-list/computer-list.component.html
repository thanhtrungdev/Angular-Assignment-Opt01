<div>
  <button
    class="btn btn-primary mt-2 mb-2"
    data-toggle="modal"
    data-target="#computerModal"
    (click)="onCreate()"
  >
    Tạo máy mới
  </button>
</div>

<div class="table-responsive-md">
  <!-- <table id="tbl-computer" class="table table-hover"> -->
  <table
    datatable
    [dtOptions]="dtOptions"
    id="tbl-computer"
    class="table table-striped table-bordered dt-responsive nowrap"
    style="width: 100%;"
  >
    <thead>
      <tr class="thead-dark text-center">
        <th>Mã máy</th>
        <th>Vị trí</th>
        <th>Trang thái</th>
        <th>Sửa</th>
        <th>Xóa</th>
      </tr>
    </thead>

    <tbody *ngIf="computers?.length != 0">
      <!-- <tr *ngFor="let computer of computers; let i = index"> -->
      <tr *ngFor="let computer of computers">
        <td>{{ computer.id }}</td>
        <td>{{ computer.location }}</td>
        <ng-container *ngIf="computer.status === 'on'">
          <td>Đang sử dụng</td>
        </ng-container>
        <ng-container *ngIf="computer.status === 'off'">
          <td>Chưa sử dụng</td>
        </ng-container>
        <ng-container *ngIf="computer.status === 'repair'">
          <td>Đang sửa chữa</td>
        </ng-container>
        <td class="text-center">
          <!-- <button class="btn btn-primary" data-toggle="modal" data-target="#computerModal"
            (click)="onEdit(computer, i)">Sửa</button> -->
          <button
            class="btn btn-primary"
            data-toggle="modal"
            data-target="#computerModal"
            (click)="onEdit(computer)"
          >
            Sửa
          </button>
        </td>
        <td class="text-center"><button class="btn btn-danger">Xóa</button></td>
      </tr>
    </tbody>

    <tbody *ngIf="computers?.length == 0">
      <tr class="text-center">
        <td style="display: none;">Không có dữ liệu</td>
        <td style="display: none;">Không có dữ liệu</td>
        <td style="display: none;">Không có dữ liệu</td>
        <td style="display: none;">Không có dữ liệu</td>
        <td class="no-data-available">Không có dữ liệu</td>
      </tr>
    </tbody>

    <tfoot class="thead-dark text-center">
      <tr>
        <th>Mã máy</th>
        <th>Vị trí</th>
        <th>Trang thái</th>
        <th>Sửa</th>
        <th>Xóa</th>
      </tr>
    </tfoot>
  </table>
</div>

<app-computer-forms (computerSubmit)="submitComputer()"></app-computer-forms>
